(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-644bd77d"],{"0192":function(e,t,a){},4575:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"d-flex flex-column align-items-center w-100",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.afterSubmit.apply(null,arguments)}}},[e._l(e.forms,(function(t){return a("div",{key:t.id,staticClass:"position-relative w-100 my-3 form-group"},[a("label",{staticClass:"position-absolute label",attrs:{for:t.category}},[e._v(" "+e._s(t.label)+" ")]),"checkbox"===t.category?a("input",{directives:[{name:"model",rawName:"v-model",value:e.user[t.type],expression:"user[form.type]"}],staticClass:"w-100 input",attrs:{id:t.id,name:t.category,required:"",type:"checkbox"},domProps:{checked:Array.isArray(e.user[t.type])?e._i(e.user[t.type],null)>-1:e.user[t.type]},on:{focusout:function(a){return e.wordLimit(e.user[t.type])},change:function(a){var r=e.user[t.type],s=a.target,n=!!s.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);s.checked?o<0&&e.$set(e.user,t.type,r.concat([i])):o>-1&&e.$set(e.user,t.type,r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.user,t.type,n)}}}):"radio"===t.category?a("input",{directives:[{name:"model",rawName:"v-model",value:e.user[t.type],expression:"user[form.type]"}],staticClass:"w-100 input",attrs:{id:t.id,name:t.category,required:"",type:"radio"},domProps:{checked:e._q(e.user[t.type],null)},on:{focusout:function(a){return e.wordLimit(e.user[t.type])},change:function(a){return e.$set(e.user,t.type,null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.user[t.type],expression:"user[form.type]"}],staticClass:"w-100 input",attrs:{id:t.id,name:t.category,required:"",type:t.category},domProps:{value:e.user[t.type]},on:{focusout:function(a){return e.wordLimit(e.user[t.type])},input:function(a){a.target.composing||e.$set(e.user,t.type,a.target.value)}}}),"name"===t.category?a("span",{directives:[{name:"show",rawName:"v-show",value:e.isNameWarning,expression:"isNameWarning"}],staticClass:"position-absolute warning"},[e._v(e._s(e.nameWarning))]):e._e()])})),e.isRegistered()?a("button",{staticClass:"btn save-btn align-self-end mx-0"},[e._v(" 儲存 ")]):a("button",{staticClass:"btn login-btn w-100"},[e._v("註冊")])],2)},s=[],n=a("b85c"),i=a("5530"),o=(a("b0c0"),a("d3b7"),a("ddb0"),a("2f62")),c={data:function(){return{user:{account:"",name:"",email:"",password:"",checkPassword:""},forms:[{label:"帳號",category:"account",type:"account",id:1,data:""},{label:"名稱",category:"name",type:"name",id:2,data:""},{label:"Email",category:"email",type:"email",id:3,data:""},{label:"密碼",category:"password",type:"password",id:4,data:""},{label:"密碼確認",category:"password",type:"password-check",id:5,data:""}],nameWarning:"字數超出上限!",isNameWarning:!1}},computed:Object(i["a"])({},Object(o["b"])(["currentUser"])),created:function(){this.getcurrentUser()},methods:{getcurrentUser:function(){"Regist"===this.$route.name?this.user=Object(i["a"])({},this.user):"Setting"===this.$route.name&&(this.user=Object(i["a"])(Object(i["a"])({},this.user),this.currentUser))},isRegistered:function(){return"Regist"!==this.$route.name&&("Setting"===this.$route.name||void 0)},wordLimit:function(e){e.length>50?(event.target.classList.add("error"),console.log(event.target.classList),this.isNameWarning=!0):(event.target.classList.remove("error"),this.isNameWarning=!1)},afterSubmit:function(e){var t,a=e.target,r=new FormData(a),s=[],i=Object(n["a"])(r.values());try{for(i.s();!(t=i.n()).done;){var o=t.value;s.push(o)}}catch(c){i.e(c)}finally{i.f()}this.$emit("after-submit",s)}}},u=c,l=(a("74e3"),a("2877")),d=Object(l["a"])(u,r,s,!1,null,"3583d70e",null);t["a"]=d.exports},"4a1a":function(e,t,a){},"4ef5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-100 d-flex justify-content-center"},[a("NavBar",{on:{"after-show-tweet-modal":e.afterShowTweetModal}}),a("div",{staticClass:"main"},[a("h5",{staticClass:"title p-3"},[e._v("帳戶設定")]),a("div",{staticClass:"setProfile"},[a("SetProfile",{staticClass:"p-3",on:{"after-submit":e.handleAfterSubmit}})],1)]),a("div",{staticClass:"right"}),e.showModal?a("TweetModal",{on:{"after-hide-modal":e.afterHideModal}}):e._e()],1)},s=[],n=a("5530"),i=a("3835"),o=a("1da1"),c=(a("96cf"),a("d000")),u=a("4575"),l=a("4287"),d=a("fec6"),m=a("2fa3"),p=a("2f62"),f={name:"Setting",components:{NavBar:c["a"],SetProfile:u["a"],TweetModal:l["a"]},data:function(){return{showModal:!1}},methods:{afterShowTweetModal:function(){console.log("afterShowModal--Setting"),this.showModal=!0},afterHideModal:function(){console.log("afterHideModal--Setting"),this.showModal=!1},handleAfterSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,s,n,o,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=Object(i["a"])(e,5),s=r[0],n=r[1],o=r[2],c=r[3],u=r[4],a.prev=1,a.next=4,d["a"].update(t.currentUser.id,{account:s,name:n,email:o,password:c,checkPassword:u});case 4:l=a.sent,console.log(l),t.$router.go(0),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),m["a"].fire({icon:"error",title:a.t0.response.data.message});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()}},computed:Object(n["a"])({},Object(p["b"])(["currentUser"]))},g=f,h=(a("f9ac"),a("2877")),y=Object(h["a"])(g,r,s,!1,null,"2c48a425",null);t["default"]=y.exports},"74e3":function(e,t,a){"use strict";a("0192")},f9ac:function(e,t,a){"use strict";a("4a1a")}}]);
//# sourceMappingURL=chunk-644bd77d.a6708e09.js.map