(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a283ef9"],{1571:function(e,t,n){"use strict";n("e630")},be6c:function(e,t,n){"use strict";var r=n("2fa3"),a=function(){return localStorage.getItem("adminToken")};t["a"]={getTweetsList:function(){return r["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(a())}})},deleteTweet:function(e){return r["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(a())}})},getUsersList:function(){return r["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(a())}})}}},d95c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AdminMainList"},[n("div",[n("h6",{staticClass:"m-3"},[e._v("推文清單")]),e._l(e.adminMainList,(function(t){return n("div",{key:t.id,staticClass:"cards"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e._f("emptyImage")(t.tweetedUser.avatar),alt:""}})]),n("div",{staticClass:"card-content"},[n("p",[e._v(" "+e._s(t.tweetedUser.name)+" "),n("span",{staticClass:"card-account"},[e._v(" @"+e._s(t.tweetedUser.account)+"・"+e._s(e._f("formatDate")(t.tweetedUser.createdAt))+" ")])]),n("p",{staticClass:"card-description"},[e._v(e._s(e._f("descriptionText")(t.description)))])]),n("button",{staticClass:"card-button",attrs:{disabled:e.isProcessing},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.deleteTweetButton(t.id)}}},[e._v("×")])])}))],2)])},a=[],s=n("1da1"),i=(n("96cf"),n("be6c")),c=n("2fa3"),o=n("2708"),u={name:"AdminMainList",mixins:[o["a"],o["b"]],data:function(){return{adminMainList:[],isProcessing:!1}},created:function(){this.fetchTweets()},filters:{descriptionText:function(e){return e.length>50?e.substr(0,50)+"...":e}},methods:{fetchTweets:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].getTweetsList();case 3:n=t.sent,r=n.data,e.adminMainList=r,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),c["a"].fire({icon:"error",title:"無法取得推文資料，請稍後再試.."});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},deleteTweetButton:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isProcessing=!0,n.next=4,i["a"].deleteTweet(e);case 4:return n.next=6,t.fetchTweets();case 6:c["a"].fire({icon:"success",title:"成功刪除推文"}),t.isProcessing=!1,n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),t.isProcessing=!1,c["a"].fire({icon:"error",title:"無法刪除推文資料，請稍後再試.."});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()}}},d=u,f=(n("1571"),n("2877")),l=Object(f["a"])(d,r,a,!1,null,"f2e7e70a",null);t["default"]=l.exports},e630:function(e,t,n){}}]);
//# sourceMappingURL=chunk-6a283ef9.ec904eb8.js.map